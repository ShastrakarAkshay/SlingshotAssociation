<section id="dialog">
    <h2 class="text-center p-3 bg-dark text-white">Add Result</h2>
    <mat-dialog-content>
        <form class="mt-4" [formGroup]="resultForm">
            <div class="row justify-content-center">
                <label class="font-weight-bold text-center">SELECT EVENT</label>
                <div class="col-sm-6">
                    <div class="form-group">
                        <select class="form-control" formControlName="eventId" (change)="onEventChange($event)" #event>
                            <option selected disabled value="">Select Event</option>
                            <option *ngFor="let event of allEvents" [value]="event.id">{{event.eventTitle}}
                                ({{event.eventDate}})</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="row mt-3 bg-light p-5 inner-form">
                <div class="col-sm-6">
                    <!-- Winner candidate -->
                    <div class="row">
                        <div class="col-sm-12">
                            <label class="font-weight-bold">Candidate Name</label>
                            <div class="form-group">
                                <input type="text" class="form-control text-capitalize" formControlName="candidateName"
                                    [ngClass]="{'is-invalid':resultForm.get('candidateName').touched && resultForm.get('candidateName').invalid}">
                                <span class="invalid-feedback alert alert-danger">
                                    Field is required
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <label class="font-weight-bold">District</label>
                            <div class="form-group">
                                <select class="form-control" formControlName="candidateDistrict"
                                    [ngClass]="{'is-invalid':resultForm.get('candidateDistrict').touched && resultForm.get('candidateDistrict').invalid}">
                                    <option selected disabled>select district</option>
                                    <option *ngFor="let dist of allDistricts" value="{{dist.name}}">{{dist.name}}
                                    </option>
                                </select>
                                <span class="invalid-feedback alert alert-danger">
                                    Field is required
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <label class="font-weight-bold">Certificate No.</label>
                            <div class="form-group">
                                <input type="text" class="form-control text-capitalize"
                                    formControlName="candidateCertificateNo"
                                    [ngClass]="{'is-invalid':resultForm.get('candidateCertificateNo').touched && resultForm.get('candidateCertificateNo').invalid}">
                                <span class="invalid-feedback alert alert-danger">
                                    Field is required
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <label class="font-weight-bold">Date Of Birth</label>
                            <div class="form-group">
                                <input type="date" class="form-control" formControlName="candidateDOB"
                                    [ngClass]="{'is-invalid':resultForm.get('candidateDOB').touched && resultForm.get('candidateDOB').invalid}">
                                <span class="invalid-feedback alert alert-danger">
                                    Field is required
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 text-center">
                    <!-- Result Area -->
                    <h1 class="text-center">
                        <i class="fa fa-trophy"></i>
                    </h1>
                    <h3 class="font-weight-bold text-center mt-2">SCORE</h3>
                    <div class="row text-center mt-3">
                        <div class="col-sm-12">
                            <input type="text" class="w-box text-center font-weight-bold"
                                formControlName="candidateScore">
                        </div>
                    </div>
                    <div class="row justify-content-center mt-3">
                        <div class="col-sm-8 text-center">
                            <label class="font-weight-bold text-center">Age Category</label>
                            <div class="form-group">
                                <select class="form-control" formControlName="ageCategory"
                                    [ngClass]="{'is-invalid':resultForm.get('ageCategory').touched && resultForm.get('ageCategory').invalid}">
                                    <option disabled selected value="">Select category</option>
                                    <option *ngFor="let cat of ageCategory" value="{{cat.categoryTitle}} {{cat.age}}">
                                        {{cat.categoryTitle}} {{cat.age}}</option>
                                </select>
                                <span class="invalid-feedback alert alert-danger">
                                    Field is required
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-sm-8">
                            <label class="font-weight-bold">Select Rank</label>
                            <div class="form-group">
                                <select class="form-control" formControlName="candidateRank"
                                    [ngClass]="{'is-invalid':resultForm.get('candidateRank').touched && resultForm.get('candidateRank').invalid}">
                                    <option disabled selected value="">Select Rank</option>
                                    <option value="First Rank (Gold)">First Rank (Gold)</option>
                                    <option value="Second Rank (Siver)">Second Rank (Siver)</option>
                                    <option value="Third Rank (Bronze I)">Third Rank (Bronze I)</option>
                                    <option value="Fourth Rank (Bronze II)">Fourth Rank (Bronze II)</option>
                                </select>
                                <span class="invalid-feedback alert alert-danger">
                                    Field is required
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </mat-dialog-content>
    <div mat-dialog-actions class="pb-4 pt-4 row justify-content-center">
        <button mat-button class="btn sling-btn" (click)="addResult()" [disabled]="!resultForm.valid"
            *ngIf="!isEdit">Create</button>
        <button mat-button class="btn sling-btn" (click)="updateResult()" [disabled]="!resultForm.valid"
            *ngIf="isEdit">Update</button>
        <button mat-button class="btn sling-btn" (click)="close()" cdkFocusInitial>Close</button>
    </div>
</section>