<h2 class="text-center p-3 bg-dark text-white">Add Result</h2>

<mat-dialog-content>
    <form class="mt-4" [formGroup]="resultForm">
        <div class="row justify-content-center">
            <label class="font-weight-bold text-center">SELECT EVENT</label>
            <div class="col-sm-6">
                <div class="form-group">
                    <select class="form-control" formControlName="eventId" (change)="onEventChange($event)" #event>
                        <option selected disabled value="">Select Event</option>
                        <option *ngFor="let event of allEvents" [value]="event.id">{{event.eventTitle}} ({{event.eventDate}})</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row mt-3 bg-light p-5">
            <div class="col-sm-4">
                <!-- Winner candidate -->
                <div class="row">
                    <div class="col-sm-12">
                        <label class="font-weight-bold">Winner Candidate Name</label>
                        <div class="form-group">
                            <input type="text" class="form-control text-capitalize"
                                formControlName="winnerCandidateName"
                                [ngClass]="{'is-invalid':resultForm.get('winnerCandidateName').touched && resultForm.get('winnerCandidateName').invalid}">
                            <span class="invalid-feedback alert alert-danger">
                                Field is required
                            </span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <label class="font-weight-bold">District</label>
                        <div class="form-group">
                            <select class="form-control" formControlName="winnerCandidateDistrict"
                                [ngClass]="{'is-invalid':resultForm.get('winnerCandidateDistrict').touched && resultForm.get('winnerCandidateDistrict').invalid}">
                                <option selected disabled>select district</option>
                                <option *ngFor="let dist of allDistricts" value="{{dist.name}}">{{dist.name}}</option>
                            </select>
                            <span class="invalid-feedback alert alert-danger">
                                Field is required
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <!-- Result Area -->
                <h3 class="font-weight-bold text-center">SCORE</h3>
                <div class="row text-center mt-3">
                    <div class="col-sm-12">
                        <input type="text" class="w-box text-center font-weight-bold" formControlName="winnerScore">
                        <span class="font-weight-bold pl-2 pr-2">:</span>
                        <input type="text" class="w-box text-center font-weight-bold" formControlName="looserScore">
                    </div>
                </div>
                <div class="row justify-content-center mt-3">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <select class="form-control" formControlName="rank"
                                [ngClass]="{'is-invalid':resultForm.get('rank').touched && resultForm.get('rank').invalid}">
                                <option disabled selected value="">Select Rank</option>
                                <option value="First Rank">First Rank</option>
                                <option value="Second Rank">Second Rank</option>
                                <option value="Third Rank">Third Rank</option>
                                <option value="Fourth Rank">Fourth Rank</option>
                                <option value="Fifth Rank">Fifth Rank</option>
                            </select>
                            <span class="invalid-feedback alert alert-danger">
                                Field is required
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <!-- Looser candidate -->
                <div class="row">
                    <div class="col-sm-12">
                        <label class="font-weight-bold">Looser Candidate Name</label>
                        <div class="form-group">
                            <input type="text" class="form-control text-capitalize"
                                formControlName="looserCandidateName"
                                [ngClass]="{'is-invalid':resultForm.get('looserCandidateName').touched && resultForm.get('looserCandidateName').invalid}">
                            <span class="invalid-feedback alert alert-danger">
                                Field is required
                            </span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <label class="font-weight-bold">District</label>
                        <div class="form-group">
                            <select class="form-control" formControlName="looserCandidateDistrict"
                                [ngClass]="{'is-invalid':resultForm.get('looserCandidateDistrict').touched && resultForm.get('looserCandidateDistrict').invalid}">
                                <option selected disabled>select district</option>
                                <option *ngFor="let dist of allDistricts" value="{{dist.name}}">{{dist.name}}</option>
                            </select>
                            <span class="invalid-feedback alert alert-danger">
                                Field is required
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</mat-dialog-content>
<div mat-dialog-actions class="pb-4 pt-4 row justify-content-center">
    <button mat-button class="btn sling-btn" (click)="addResult()" [disabled]="!resultForm.valid"
        *ngIf="!isEdit">Create</button>
    <button mat-button class="btn sling-btn" (click)="updateResult()" [disabled]="!resultForm.valid"
        *ngIf="isEdit">Update</button>
    <button mat-button class="btn sling-btn" (click)="close()" cdkFocusInitial>Close</button>
</div>